import{d as y,a as v,o as f,e as s,f as u,w as g,l as k,F as c,k as d,u as m,b as n,t as p,q as x}from"./index-879b49ef.js";import{b as w,a as M}from"./QQ-c793b430.js";const b=["value"],L={class:"contain"},A=["innerHTML"],D=["innerHTML"],T=y({__name:"backView",setup(H){const i=v({list:[],selected:{}}),h=l=>{const r=new Date(l);return r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" "+r.getHours()+":"+r.getMinutes()},_=l=>{if(!l)return"";if(Array.isArray(l))return l.map(e=>{const o=_(e)+"</br>";return console.log(o),o}).sort((e,o)=>Number.parseInt(e.split("-")[0])-Number.parseInt(o.split("-")[0]));const r=l.split("%");let t="";return r.forEach((e,o)=>{if(e.includes("&select")){let a=e.replace("&select","");a="<span class='highlight'>"+a,a+="</span>",t+=a}else if(e.includes("&")){let a=e.replace("&","");a="<span class='highlight'>"+a,a+="</span>",t+=a}else t+=e}),t};return f(()=>{w.get("/survey/pickList").then(l=>{i.list=l.data})}),(l,r)=>(n(),s(c,null,[u("div",null,[g(u("select",{name:"",id:"","onUpdate:modelValue":r[0]||(r[0]=t=>i.selected=t)},[(n(!0),s(c,null,d(i.list,t=>(n(),s("option",{key:t.id,value:t.answer[0]},p(t.userName+"-"+h(t.createdAt)),9,b))),128))],512),[[k,i.selected]])]),u("div",L,[(n(!0),s(c,null,d(m(M),t=>(n(),s("div",{key:t.idx,class:"bg"},[u("h3",null,p(t.label),1),(n(!0),s(c,null,d(t.questions,e=>(n(),s("div",{key:e.idx,class:"sq"},[i.selected[e.idx]?(n(),s(c,{key:0},[u("h4",null,p(e.idx)+" "+p(e.question),1),Array.isArray(i.selected[e.idx])?(n(!0),s(c,{key:0},d(_(i.selected[e.idx]),o=>(n(),s("div",{class:"answer",innerHTML:o,key:o},null,8,A))),128)):(n(),s("div",{key:1,class:"answer",innerHTML:_(i.selected[e.idx])},null,8,D))],64)):x("",!0)]))),128))]))),128))])],64))}});export{T as default};
